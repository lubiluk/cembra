<?xml version="1.0"?>
<launch>
    <arg name="learner" default="false"/>
    <arg name="plot" default="false"/>  
    <arg name="recording" default="false"/>
    <arg name="gui" default="true"/>

    <env name="GAZEBO_MODEL_PATH" value="$(find cembra)/models"/>

    <include file="$(find hsrb_gazebo_launch)/launch/hsrb_empty_world.launch">
        <!-- <arg name="namespace" default="/hsrb"/> -->
        <arg name="debug" value="false"/>
        <arg name="gui" value="$(arg gui)" />
        <!-- <arg name="recording" value="$(arg recording)" /> -->
        <arg name="rviz" value="false"/>
        <!-- <arg name="gazebo_visualization" default="false" /> -->
        <arg name="use_manipulation" value="false" />
        <arg name="use_navigation" value="false" />
        <arg name="use_perception" value="false" />
        <arg name="use_task" value="false" />
        <arg name="use_teleop" value="true" />
        <arg name="use_web" value="false" />
        <arg name="use_laser_odom" value="false" />
        <arg name="paused" value="false" />
        <arg name="fast_physics" value="false" />
        <!-- <arg name="robot_name" default="$(optenv ROBOT_NAME hsrb)" /> -->
    </include>

    <!-- <include file="$(find cembra)/launch/moveit.launch"></include> -->

    <!-- <node name="arm_filter" pkg="cembra" type="arm_filter"></node> -->
    <!-- <node name="base_filter" pkg="cembra" type="base_filter"></node> -->

    <node name="floor" pkg="gazebo_ros" type="spawn_model" args="-database floor -sdf -x 0 -y 0 -z 0.0001 -model floor" />
    <node name="workspace" pkg="gazebo_ros" type="spawn_model" args="-database workspace -sdf -x 1 -y 0 -z 0.0002 -model workspace" />
    <node name="spawn_cube1" pkg="gazebo_ros" type="spawn_model" args="-database wood_cube_5cm -sdf -x 1 -y -0.5 -z 0 -model cube1" />
    <node name="spawn_cube2" pkg="gazebo_ros" type="spawn_model" args="-database wood_cube_7_5cm -sdf -x 1 -y 0.5 -z 0 -model cube2" />
    
    <node name="environment" pkg="cembra" type="environment_1.py"></node>
    
    <param name="plot" type="bool" value="$(arg plot)"/>
    <node name="learner" pkg="cembra" type="learner_1.py" if="$(arg learner)"></node>
</launch>